{"ast":null,"code":"import React,{Component}from'react';import UserService from'../services/UserService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";class CreateUserComponent extends Component{constructor(props){super(props);this.saveOrUpdateUser=e=>{e.preventDefault();let user={firstName:this.state.firstName,lastName:this.state.lastName,email:this.state.email};console.log('user => '+JSON.stringify(user));if(this.state.id==='_add'){UserService.createUser(user).then(res=>{this.props.history.push('/users');},err=>this.setState({errorMessage:err.message}));}else{UserService.updateUser(user,this.state.id).then(res=>{this.props.history.push('/users');},err=>this.setState({errorMessage:err.message}));}};this.changeFirstNameHandler=event=>{this.setState({firstName:event.target.value});};this.changeLastNameHandler=event=>{this.setState({lastName:event.target.value});};this.changeEmailHandler=event=>{this.setState({email:event.target.value});};this.state={id:this.props.match.params.id,firstName:'',lastName:'',email:'',errorMessage:''};this.changeFirstNameHandler=this.changeFirstNameHandler.bind(this);this.changeLastNameHandler=this.changeLastNameHandler.bind(this);this.saveOrUpdateUser=this.saveOrUpdateUser.bind(this);}componentDidMount(){if(this.state.id==='_add'){return;}else{UserService.getUserById(this.state.id).then(res=>{let user=res.data;this.setState({firstName:user.firstName,lastName:user.lastName,email:user.email});});}}cancel(){this.props.history.push('/users');}getTitle(){if(this.state.id==='_add'){return/*#__PURE__*/_jsx(\"h3\",{className:\"text-center\",children:\"Add User\"});}else{return/*#__PURE__*/_jsx(\"h3\",{className:\"text-center\",children:\"Update User\"});}}render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card col-md-6 offset-md-3 offset-md-3\",children:[this.getTitle(),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\" First Name: \"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"First Name\",name:\"firstName\",className:\"form-control\",value:this.state.firstName,onChange:this.changeFirstNameHandler})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\" Last Name: \"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Last Name\",name:\"lastName\",className:\"form-control\",value:this.state.lastName,onChange:this.changeLastNameHandler})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\" Email Id: \"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Email Address\",name:\"email\",className:\"form-control\",value:this.state.email,onChange:this.changeEmailHandler})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:this.saveOrUpdateUser,children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:this.cancel.bind(this),style:{marginLeft:\"10px\"},children:\"Cancel\"}),this.state.errorMessage&&/*#__PURE__*/_jsxs(\"h5\",{className:\"alert alert-danger\",children:[this.state.errorMessage,\" \"]})]})})]})})})]});}}export default CreateUserComponent;","map":{"version":3,"names":["React","Component","UserService","jsx","_jsx","jsxs","_jsxs","CreateUserComponent","constructor","props","saveOrUpdateUser","e","preventDefault","user","firstName","state","lastName","email","console","log","JSON","stringify","id","createUser","then","res","history","push","err","setState","errorMessage","message","updateUser","changeFirstNameHandler","event","target","value","changeLastNameHandler","changeEmailHandler","match","params","bind","componentDidMount","getUserById","data","cancel","getTitle","className","children","render","placeholder","name","onChange","onClick","style","marginLeft"],"sources":["D:/App-service-demo/dotnet-postgresql-reactjs-crud-app/react-crud-app/src/components/CreateUserComponent.jsx"],"sourcesContent":["import React, { Component } from 'react'\r\nimport UserService from '../services/UserService';\r\n\r\nclass CreateUserComponent extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            \r\n            id: this.props.match.params.id,\r\n            firstName: '',\r\n            lastName: '',\r\n            email: '',\r\n            errorMessage: ''\r\n        }\r\n        this.changeFirstNameHandler = this.changeFirstNameHandler.bind(this);\r\n        this.changeLastNameHandler = this.changeLastNameHandler.bind(this);\r\n        this.saveOrUpdateUser = this.saveOrUpdateUser.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n       \r\n        if (this.state.id === '_add') {\r\n            return\r\n        } else {\r\n            UserService.getUserById(this.state.id).then((res) => {\r\n                let user = res.data;\r\n                this.setState({\r\n                    firstName: user.firstName,\r\n                    lastName: user.lastName,\r\n                    email: user.email\r\n                });\r\n            });\r\n        }\r\n    }\r\n    \r\n    saveOrUpdateUser = (e) => {\r\n        e.preventDefault();\r\n        \r\n        let user = { firstName: this.state.firstName, \r\n            lastName: this.state.lastName, email: this.state.email };\r\n        console.log('user => ' + JSON.stringify(user));\r\n     \r\n        if (this.state.id === '_add') {\r\n            UserService.createUser(user).then(res => {\r\n                this.props.history.push('/users');\r\n            },err => this.setState({errorMessage: err.message}));\r\n        } else {\r\n            UserService.updateUser(user, this.state.id).then(res => {\r\n                this.props.history.push('/users');\r\n            },err => this.setState({errorMessage: err.message}));\r\n        }\r\n    }\r\n\r\n    changeFirstNameHandler = (event) => {\r\n        this.setState({ firstName: event.target.value });\r\n    }\r\n\r\n    changeLastNameHandler = (event) => {\r\n        this.setState({ lastName: event.target.value });\r\n    }\r\n\r\n    changeEmailHandler = (event) => {\r\n        this.setState({ email: event.target.value });\r\n    }\r\n\r\n    cancel() {\r\n        this.props.history.push('/users');\r\n    }\r\n\r\n    getTitle() {\r\n        if (this.state.id === '_add') {\r\n            return <h3 className=\"text-center\">Add User</h3>\r\n        } else {\r\n            return <h3 className=\"text-center\">Update User</h3>\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <br></br>\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"card col-md-6 offset-md-3 offset-md-3\">\r\n                            {\r\n                                this.getTitle()\r\n                            }\r\n                            <div className=\"card-body\">\r\n                                <form>\r\n                                    <div className=\"form-group\">\r\n                                        <label> First Name: </label>\r\n                                        <input placeholder=\"First Name\" name=\"firstName\" className=\"form-control\"\r\n                                            value={this.state.firstName} onChange={this.changeFirstNameHandler} />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label> Last Name: </label>\r\n                                        <input placeholder=\"Last Name\" name=\"lastName\" className=\"form-control\"\r\n                                            value={this.state.lastName} onChange={this.changeLastNameHandler} />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label> Email Id: </label>\r\n                                        <input placeholder=\"Email Address\" name=\"email\" className=\"form-control\"\r\n                                            value={this.state.email} onChange={this.changeEmailHandler} />\r\n                                    </div>\r\n\r\n                                    <button className=\"btn btn-success\" onClick={this.saveOrUpdateUser}>Save</button>\r\n                                    <button className=\"btn btn-danger\" onClick={this.cancel.bind(this)} style={{ marginLeft: \"10px\" }}>Cancel</button>\r\n                                    \r\n                                    { this.state.errorMessage &&\r\n                                    <h5 className=\"alert alert-danger\"> \r\n                                    { this.state.errorMessage } </h5> }\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CreateUserComponent\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}